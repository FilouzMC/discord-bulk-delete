<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Bulk Delete</title>
    <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
    <div class="mobile-warning" role="alert" aria-live="polite">
        This site is optimized for desktop. Some features may not work well on mobile devices.
    </div>
    <header>
        <!-- Navbar-->
        <div class="navbar">
            <div class="logo">
                <img src="/img/Logo_DBD_White.svg" alt="Logo">
            </div>
            <div class="info">
                <span id="channelsRestants">Channels remaining : x/x</span> |
                <span id="channelsType">Channels for the type xx : xx</span>
            </div>

            <div class="links">
                <select id="channelType">
                    <option value="DM">DM</option>
                    <option value="GROUP_DM">Group DM</option>
                    <option value="GUILD_TEXT">Guild Text</option>
                    <option value="GUILD_VOICE">Guild Voice</option>
                    <option value="PUBLIC_THREAD">Guild Thread</option>
                </select>

                <a class="dl" href="#" id="telechargerChannelsToDelete">
                    <img src="/img/icons/database-check.svg" alt="Database Check">
                </a>
                <a class="settings" href="#" id="settingsButton">
                    <img src="/img/icons/settings.svg" alt="Settings">
                </a>
                <!-- <a href="#link2">Lien 2</a>
                <a href="#link3">Lien 3</a> -->
            </div>
        </div>
    </header>

    <main>
        <div id="outputConv"></div>

        <div class="floating-div">
            <a href="#" id="supprimerChannel" class="delete">
                <img src="/img/icons/trash.svg" alt="Delete">
                Delete</a>
            <a href="#" id="annulerDerniereAction" class="undo">
                <img src="/img/icons/undo.svg" alt="Undo">
                Cancel</a>
            </a>
            <a href="#" id="afficherChannelAleatoire" class="random">
                <img src="/img/icons/dice.svg" alt="Random">
                Random</a>
            </a>
            <a href="#" id="garderChannel" class="keep">
                <img src="/img/icons/check.svg" alt="Keep">
                Keep</a>
            </a>
        </div>

        <!-- Popup for the settings -->
        <div id="settingsPopup" class="popupSettings hiddenSettings">
            <div class="popupSettings-content">
                <img width="100" src="/img/Logo_DBD_White.svg" alt="Logo">
                <h2>Settings</h2>
                <p>Configure your shortcuts and manage your database.</p>
                <div class="settings-left">
                    <div class="backup-controls">
                        <a href="#" id="exportButton" class="exportButton btn">Export the database</a>
                        <a href="#" id="importButton" class="importButton btn">Import the database</a>

                        <!-- Input caché pour la sélection de fichier -->
                        <input type="file" id="importFile" accept="application/json" style="display: none;" />

                        <!-- Message de statut pour l'utilisateur -->
                        <div id="importStatus" style="margin-top: 10px;"></div>
                    </div>
                    <a href="#" id="deleteDbButton" class="deleteDbButton btn">Delete the database</a>
                    <a target="_blank" href="https://github.com/FilouzMC/discord-bulk-delete" class="ghButton btn">
                        <img src="/img/icons/github.svg" alt="GitHub">
                        GitHub</a>
                    </a>
                </div>
                <div class="settings-right">
                    <h3 style="margin-top:25px;">Keyboard Shortcuts</h3>
                    <p style="font-size:12px;opacity:.7;margin-top:4px;">Click a field then press a key. Space =
                        Spacebar.
                        Saved instantly.</p>
                    <div class="shortcut-settings">
                        <div class="shortcut-row">
                            <label>Random</label>
                            <input type="text" class="shortcut-input" data-action="random" maxlength="1" />
                        </div>
                        <div class="shortcut-row">
                            <label>Keep</label>
                            <input type="text" class="shortcut-input" data-action="keep" maxlength="1" />
                        </div>
                        <div class="shortcut-row">
                            <label>Delete</label>
                            <input type="text" class="shortcut-input" data-action="delete" maxlength="1" />
                        </div>
                        <div class="shortcut-row">
                            <label>Undo</label>
                            <input type="text" class="shortcut-input" data-action="undo" maxlength="1" />
                        </div>
                        <a href="#" id="resetShortcuts" class="btn">Reset defaults</a>
                    </div>
                    <a href="#" id="closeSettings" class="closeSettings btn" style="margin-top: 15px;">
                        <img src="/img/icons/close.svg" alt="Close">
                        Close
                    </a>
                </div>
            </div>
        </div>

        <!-- Popup for import Discord's archive -->
        <div id="importPopup" class="popupImport hiddenImport">
            <div class="popupImport-content">
                <img width="250" src="/img/Logo_DBD_White.svg" alt="Logo">
                <h2>Import the Discord's archive</h2>
                <p>Select the Discord's archive file (zip format)</p>
                <input type="file" id="zipInput" accept=".zip">
                <div id="status"></div>
                <div id="output"></div>
            </div>
        </div>


    </main>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script type="module" src="script.js"></script>
</body>

</html>